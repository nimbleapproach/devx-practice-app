version: '3'

tasks:
  default:
    cmds:
      - task -l
    silent: true

  build:
    desc: Builds the dex-playwright docker image and applies the latest tag
    cmds:
      - docker build -t devx-playwright .

  run:
    desc: Runs the devx-playwright container
    cmds:
      - docker run --rm --net=host --name devx-playwright devx-playwright playwright test

  run-e2e-tests:
    desc: Runs e2e tests in dedicated container
    cmds:
      - task: build
      - task: run
